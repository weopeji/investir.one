(function(e){"use strict";const a=({methodName:a,data:t})=>new Promise((n,o)=>{e.PostComponents(a,t,e=>{n(e)})});class t{constructor(){this.telegramData=null}async renderStyles(){$(".index_page_menu").css({flex:"none",position:"absolute","margin-left":"-100%"}),$(".index_page_body_header_info").css({"justify-content":"center"}),$(".index_page_body_header_user_avatar").remove(),$(".index_page_body_header_info span").html("Telegram Авторизация")}async renderBody(){var e=$('\n                <div class="telegram_authorization">\n                    <div class="telegram_authorization_row">\n                        <a href="tg://resolve?domain=investir_official_bot" class="telegram_authorization_image">\n                            <i class="fab fa-telegram-plane"></i>\n                        </a>\n                        <div class="telegram_authorization_text">\n                            <h1>investiR запрашивает доступ через Telegram</h1>\n                        </div>\n                        <div class="telegram_authorization_buttons">\n\n                        </div>\n                    </div>\n                </div>\n            ');$(".index_page_body_data").append(e)}async getUser(){return new Promise(async(e,t)=>{var n={id:_GET("id"),first_name:decodeURI(_GET("first_name")),last_name:decodeURI(_GET("last_name")),username:decodeURI(_GET("username"))};if(n.id){var o=await a({methodName:"telegram_auth_getToken",data:n});setCookie("token",o),e(o)}else window.close()})}async render(){await this.renderStyles(),await this.renderBody();var e=_GET("type"),t=await this.getUser(),n=500,o={recomendation:async function(){return new Promise(async(e,o)=>{var i="tg://resolve?domain=investir_official_bot";setTimeout(async function(){a({methodName:"telegram_auth_recomendation",data:{projectId:_GET("userId"),userId:t}}),window.location=i,e()},n)})},more:async function(){return new Promise(async(e,o)=>{var i="tg://resolve?domain=investir_official_bot",r=await a({methodName:"telegram_auth_more",data:{projectId:_GET("userId"),userId:t}});"error"==r?setTimeout(async function(){window.location=i,e()},n):"location"==r.type?location.href=`https://${r.data.url}/?user=${r.data.userId}&page=invester_data`:location.href=`/?user=${r.data.userId}&page=invester_data`})},recomendation_push:async function(){return new Promise(async(e,o)=>{var i="tg://resolve?domain=invester_official";setTimeout(async function(){a({methodName:"telegram_recomendation_push",data:{userId:t,attraction:_GET("userId")}}),window.location=i,e()},n)})},recomendation_push_b:async function(){return new Promise(async(e,o)=>{var i=`https://investir.one/?user=${t}&page=creating`;setTimeout(async function(){a({methodName:"telegram_recomendation_push_b",data:{userId:t,attraction:_GET("userId")}}),window.location=i,e()},n)})},cabinet:async function(){return new Promise(async(e,o)=>{var i="tg://resolve?domain=investir_official_bot";setTimeout(async function(){a({methodName:"telegram_recomendation_cabinet",data:{userId:t}}),window.location=i,e()},n)})},setInvestingPage:async function(){return new Promise(async(e,a)=>{window.location=`https://investir.one/?page=invester_data&user=${_GET("idUser")}`})}};e&&(await o[e](),setTimeout(()=>{window.close()},15e3))}}var n={telegram_authorization:t};if(e.Components)for(var o in n)e.Components[o]=n[o];else e.Components=n})(window);