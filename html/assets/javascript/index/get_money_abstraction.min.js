(function(t){"use strict";const a=({methodName:a,data:e})=>new Promise((n,i)=>{t.PostComponents(a,e,t=>{n(t)})});class e{constructor(){this.allMoney=0,this.payType=null}async render(){try{$(".index_page_body_header_user_textDecoration span").html("Запрос выплаты")}catch(t){}var e=this,n=await a({methodName:"allPayments",data:t.allData._id}),i=$('\n                <div class="get_money_abstraction_page">\n                    <div class="get_money_abstraction_page_header">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="get_money_abstraction_page_header_row">\n                            <span>Выбранная сумма вывода:</span>\n                            <a>0 ₽</a>\n                        </div>\n                    </div>\n                    <div class="get_money_abstraction_page_moreData">\n\n                    </div>\n                    <div class="get_money_abstraction_page_buttons">\n                        <div class="get_money_abstraction_page_buttons_button" data="fiz">\n                            <div class="version2_default_bkg row_default"></div>\n                            <div class="get_money_abstraction_page_buttons_button_row">\n                                <div class="get_money_abstraction_page_buttons_button_icon">\n                                    <i class="fal fa-users"></i>\n                                </div>\n                                <div class="get_money_abstraction_page_buttons_button_text">\n                                    <span>Физ. лицо, Самозанятый</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="get_money_abstraction_page_buttons_button get_money_abstraction_page_buttons_button_ur">\n                            <div class="version2_default_bkg row_default"></div>\n                            <div class="get_money_abstraction_page_buttons_button_row">\n                                <div class="get_money_abstraction_page_buttons_button_icon">\n                                    <i class="fal fa-city"></i>\n                                </div>\n                                <div class="get_money_abstraction_page_buttons_button_text">\n                                    <span>ИП, Юр. лицо</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');for(var _ of(i.find(".get_money_abstraction_page_header_inputSave").click(async function(){await a({methodName:"version2_acceptEmail",data:{user:t.allData._id,email:$('input[data="email"]').val().toString().trim()}}),SoloAlert.alert({title:"Успешно! Подтвердите ваш email, перейдя по ссылке в сообщении",body:"",icon:"success"})}),i.find(".get_money_abstraction_page_buttons_button_ur").click(async()=>{e.payType="ur";var n=$('\n                    <div class="get_money_abstraction_page_header" style="margin-top: 20px;">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="get_money_abstraction_page_header_row">\n                            <input type="text" placeholder="Введите ваш email, для подписание документа" data="email">\n                        </div>\n                    </div>\n                    <div class="get_money_abstraction_page_header" style="margin-top: 20px;">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="get_money_abstraction_page_header_row">\n                            <input type="text" placeholder="Введите ваше Имя" data="first_name">\n                        </div>\n                    </div>\n                    <div class="get_money_abstraction_page_header" style="margin-top: 20px;">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="get_money_abstraction_page_header_row">\n                            <input type="text" placeholder="Введите вашу Фамилию" data="second_name">\n                        </div>\n                    </div>\n                    <div class="get_money_abstraction_page_header" style="margin-top: 20px;">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="get_money_abstraction_page_header_row">\n                            <input type="text" placeholder="Введите ваше Отчество" data="last_name">\n                        </div>\n                    </div>\n                    <div class="get_money_abstraction_page_buttonPushed">\n                        <span class="get_money_abstraction_page_buttonPushed_button">Подтвердить</span>\n                    </div>\n                ');n.find(".get_money_abstraction_page_buttonPushed_button").click(async function(){SoloAlert.alert({title:"Успешно! Проверьте свою почту и подпишите документ!",body:"",icon:"success"}).then(()=>{location.href="/?page=Attracted_by_me"}),await a({methodName:"version2_Attracted_pay",data:{type:"ur",user:t.allData._id,email:$(this).parent().parent().find('input[data="email"]').val().toString().trim(),data:{first_name:$(this).parent().parent().find('input[data="first_name"]').val().toString().trim(),second_name:$(this).parent().parent().find('input[data="second_name"]').val().toString().trim(),last_name:$(this).parent().parent().find('input[data="last_name"]').val().toString().trim()}}})}),$(".get_money_abstraction_page_buttons").fadeOut(function(){$(".get_money_abstraction_page_moreData").append(n),$(".get_money_abstraction_page_moreData").fadeIn()})}),n)){var s=Number(_.pay.toString().replace(/\s/g,"")),o=Number(s/100*Number(_.data.ProjectData.commission)),r=Number(o/100*Number(_.data.ProjectData.attraction_commission)),d=Number(r/100*_.data.ProjectData.investors_commission),c=Number(r/100*_.data.ProjectData.business_commission),l=0;"investing"==_.type?(l=d,_.data._InvInvester):(l=c,"Бизнес",_.data._id),this.allMoney=this.allMoney+Number(l.toString())}i.find(".get_money_abstraction_page_header a").html(`${this.allMoney.toString().ReplaceNumber()} ₽`),$(".index_page_body_data").append(i)}}var n={get_money_abstraction:e};if(t.Components)for(var i in n)t.Components[i]=n[i];else t.Components=n})(window);