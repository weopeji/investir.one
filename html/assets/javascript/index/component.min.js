(function(n){"use strict";const a=({methodName:a,data:e})=>new Promise((t,s)=>{n.PostComponents(a,e,n=>{t(n)})});class e{constructor(){}pad(n,a,e){return new Array(a-n.toString().length+1).join(e)+n}async business_render(n){var e=await a({methodName:"getPhotoByUser",data:n.invester.user}),t="null";if(e&&(t=e.file_path),$(".info_active_block_right").append(`\n                <div class="info_active_block_photo">\n                    <img src="https://api.telegram.org/file/bot2062839693:AAE0hzj8SVXyexq29s5x7aRLC5x8O77c-pQ/${t}" alt="">\n                </div>\n                <span>${n.invester.first_name}</span>\n                <p>investiR</p>\n                <div class="info_active_block_massage_button">\n                    <span>Перейти к диалогу</span>\n                </div>\n            `),"accept"==n.InvDoc.status){var s=null,i=null,o=null,c=null,d=null;n.InvDoc.data.data.forEach(n=>{"fio"==n._id&&(d=n.data),"bank"==n._id&&(s=n.data),"bik"==n._id&&(i=n.data),"nomer"==n._id&&(o=n.data),"nomer_kor"==n._id&&(c=n.data)});var l=$(`\n                    <div class="settingBlock" style="margin-top: 65px;">\n                        <div class="version2_settingBlock_header">\n                            <p>Выплаты по проекту</p>\n                        </div>\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header">\n                            <div class="settingBlock_header_line">\n                                <span>#</span>\n                                <span>Дата</span>\n                                <span>Сумма</span>\n                                <!-- <span>Выбор</span> -->\n                                <span>Статус</span>\n                            </div>\n                        </div>\n                        <!--<div class="headerPaysBlock_header">\n                            <span class="headerPaysBlock_header_span">\n                                <div class="headerPaysBlock_header_span_button_reqvesits">\n                                    <span>Посмотреть реквезиты</span>\n                                    <div class="settingBlock_body_line_drop_menu">\n                                        <p>Банк получателя: <span>${s}</span></p>\n                                        <p>БИК: <span>${i}</span></p>\n                                        <p>Номер расчетного счета: <span>${o}</span></p>\n                                        <p>Номер кор счета: <span>${c}</span></p>\n                                        <p>Имя получателя: <span>${d}</span></p>\n                                    </div>\n                                </div>\n                            </span>\n                            <div class="headerPaysBlock_header_line">\n                                <span>#</span>\n                                <span>Дата</span>\n                                <span>Сумма</span>\n                                <span>Статус</span>\n                            </div>\n                        </div>-->\n                        <div class="settingBlock_body">\n\n                        </div>\n                    </div>\n                `);if(n.InvDoc.pays.forEach((e,t)=>{var s=Math.ceil(e.pay),i="",o=new Date(e.date),c=this.pad(o.getDate(),2,"0")+"."+this.pad(o.getMonth()+1,2,"0")+"."+o.getFullYear(),d='<span class="version2ButtonGradient1 settingBlock_wait settingBlock_block settingBlock_accept">Подтвердить</span>',_=`<input type="checkbox" class="version2_activ_projects_lineCheackBox" data-target="${t}">`;"Бессрочно"!=n.project.data.date&&t+1==n.InvDoc.pays.length&&(i=` + ${n.InvDoc.data.pay} руб.`),"accept"==e.status&&(d="Подтверждено",_="*");var r=$(`\n                        <div class="settingBlock_body_line">\n                            <span>${t+1}</span>\n                            <span>${c}</span>\n                            <span>${s.toString().replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")} руб ${i.toString().replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}</span>\n                            <!--<span>\n                                ${_}\n                            </span> -->\n                            <span class="headerPaysBlock_button" data-target="${t}">\n                                ${d}\n                            </span>\n                        </div>\n                    `);r.find('input[type="checkbox"]').change(function(){var n=0;$(".settingBlock_body_line").each((a,e)=>{$(e).find('input[type="checkbox"]').is(":checked")&&n++}),0==n?$(".settingBlock_body_line").find(".settingBlock_accept").html("Подтвердить"):$(".settingBlock_body_line").find(".settingBlock_accept").html(`Подтвердить ${n}`)}),r.find(".settingBlock_accept").click(function(){var n=$(this).parent().attr("data-target"),e=_GET("id"),t=[];$(".settingBlock_body_line").each((n,a)=>{$(a).find('input[type="checkbox"]').is(":checked")&&t.push(n)}),0==t.length&&t.push(n),SoloAlert.confirm({title:"Подтверждение",body:"Вы уверены, что хотите подтвердить выплату?",theme:"dark",html:"",useTransparency:!0}).then(async()=>{await a({methodName:"version2_activ_projects_business_setPay",data:{id:e,target:t}}),SoloAlert.alert({title:"Успешно",body:"",icon:"success"}).then(()=>{location.reload()})})}),l.find(".settingBlock_body").append(r)}),$(".index_page_body_data").append(l),"Бессрочно"==n.project.data.date||void 0!==n.project.notFullpay){if(0!=Number(n.project.notFullpay)){var _=$('\n                            <div class="appendPayBlock">\n                                <div class="appendPayBlock_line">\n                                    <span>Сумма инвестиции</span>\n                                    <input type="text">\n                                </div>\n                                <div class="appendPayBlock_line">\n                                    <span>Чек</span>\n                                    <input type="file">\n                                    <button>Выбрать файл</button>\n                                </div>\n                                <div class="appendPayBlock_line">\n                                    <span>Действие</span> \n                                    <button>Принять</button>\n                                </div>\n                            </div>\n                        ');if(_getCookie("payment_money")&&_.find('input[type="text"]').val(_getCookie("payment_money").toString().ReplaceNumber()),_.find('input[type="text"]').on("keyup input",function(){setCookie("payment_money",$(this).val().toString().replace(/\s/g,""));var n=$(this).val();n=n.replace(/[^\d;]/g,""),n=n.replace(/\s/g,"");var a=String(n).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ");$(this).val(a)}),n.InvDoc.pays.length>0&&"wait_data"==n.InvDoc.pays[n.InvDoc.pays.length-1].status){var r=$('\n                                    <div class="appendPayBlock_line_button">\n                                        <span>Посмотреть</span>\n                                    </div>\n                                ');r.click(function(){window.open(`/projects/${n.InvDoc.projectId}/${n.InvDoc.pays[n.InvDoc.pays.length-1].receipt}`,"_blank")}),_.find(".appendPayBlock_line").eq(1).find("button").html("Заменить"),_.find(".appendPayBlock_line").eq(1).append(r)}_.find("button").eq(0).css("margin-left",0),_.find("button").eq(1).css("margin-left",0),_.find("button").eq(0).click(function(){$(this).parent().parent().find('input[type="file"]').trigger("click")}),_.find("button").eq(1).click(async function(){var n=$(this).parent().parent().find('input[type="text"]').val();if(n.length>0){var e=await a({methodName:"business_addpayment_for_inv",data:{id:_GET("id"),data:{payment:n.toString().replace(/\s/g,"")}}});"ok"==e?(alert("Успешно!"),delCookie("payment_money"),location.reload()):alert("Вы не добавили чек!")}else alert("Введите все данные!")}),_.find('input[type="file"]').change(async function(){var n=new FormData,a=`${getURL()}/file_chart.io/files`;n.append("_Inv",_GET("id")),n.append("_pts",$(this.files)[0].type),n.append("files",$(this.files)[0]),axios.post(a,n,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{"ok"==n.data.status&&(alert("Чек прикоеплен!"),location.reload())})}),void 0!==n.project.notFullpay&&(void 0===n.project.closeMoney?(_=$('\n                                    <div class="Attracted_headerInfoBlock_info_data_alert">\n                                        <span>Проект ожидает полного сбора</span>\n                                    </div>\n                                '),$(".headerPaysBlock").remove()):void 0===n.InvDoc.data.pts?(_=$('\n                                        <div class="Attracted_headerInfoBlock_info_data_alert">\n                                            <span>Ожидает чека от инвестора</span>\n                                        </div>\n                                    '),$(".headerPaysBlock").remove()):0==n.project.notFullpay?void 0===n.InvDoc.confirmationData&&(_=$('\n                                                <div class="Attracted_headerInfoBlock">\n                                                    <div class="Attracted_headerInfoBlock_block accept_block_tap_more">\n                                                        <div class="Attracted_headerInfoBlock_block_i">\n                                                            <i class="fad fa-check"></i>\n                                                        </div>\n                                                        <div class="Attracted_headerInfoBlock_block_text">\n                                                            <p>Подтвердить</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="Attracted_headerInfoBlock_block remove_block_tap">\n                                                        <div class="Attracted_headerInfoBlock_block_i">\n                                                            <i class="fad fa-times"></i>\n                                                        </div>\n                                                        <div class="Attracted_headerInfoBlock_block_text Attracted_headerInfoBlock_block_text_moneys">\n                                                            <p>Отказать</p>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            '),_.find(".accept_block_tap_more").click(function(){SoloAlert.confirm({title:"Подтверждение",body:"Вы уверены, что хотите подтвердить оплату?",theme:"dark",html:"",useTransparency:!0}).then(async n=>{n&&(await a({methodName:"accept_confirmationData",data:_GET("id")}),SoloAlert.alert({title:"Успешно",body:"",icon:"success"}).then(()=>{location.reload()}))})}),$(".headerPaysBlock").remove()):void 0===n.InvDoc.data.pts_2?(_=$('\n                                                <div class="Attracted_headerInfoBlock_info_data_alert">\n                                                    <span>Ожидает второго чека от инвестора</span>\n                                                </div>\n                                            '),$(".headerPaysBlock").remove()):void 0===n.InvDoc.confirmationData&&(_=$('\n                                                    <div class="Attracted_headerInfoBlock">\n                                                        <div class="Attracted_headerInfoBlock_block accept_block_tap_more">\n                                                            <div class="Attracted_headerInfoBlock_block_i">\n                                                                <i class="fad fa-check"></i>\n                                                            </div>\n                                                            <div class="Attracted_headerInfoBlock_block_text">\n                                                                <p>Подтвердить</p>\n                                                            </div>\n                                                        </div>\n                                                        <div class="Attracted_headerInfoBlock_block remove_block_tap">\n                                                            <div class="Attracted_headerInfoBlock_block_i">\n                                                                <i class="fad fa-times"></i>\n                                                            </div>\n                                                            <div class="Attracted_headerInfoBlock_block_text Attracted_headerInfoBlock_block_text_moneys">\n                                                                <p>Отказать</p>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                '),_.find(".accept_block_tap_more").click(function(){SoloAlert.confirm({title:"Подтверждение",body:"Вы уверены, что хотите подтвердить оплату?",theme:"dark",html:"",useTransparency:!0}).then(async n=>{n&&(await a({methodName:"accept_confirmationData",data:_GET("id")}),SoloAlert.alert({title:"Успешно",body:"",icon:"success"}).then(()=>{location.reload()}))})}),$(".headerPaysBlock").remove()))}else if(void 0!==n.InvDoc.applicationRequest)if(n.InvDoc.applicationRequest)void 0===n.InvDoc.data.pts_2?(_=$('\n                                        <div class="Attracted_headerInfoBlock_info_data_alert">\n                                            <span>Ожидает второго чека от инвестора</span>\n                                        </div>\n                                    '),$(".settingBlock").remove(),$(".headerPaysBlock").remove()):(_=$('\n                                        <div class="Attracted_headerInfoBlock">\n                                            <div class="version2_default_bkg row_default"></div>\n                                            <h1>Подтвердите, что сумма платежа верна или нет</h1>\n                                            <div class="Attracted_headerInfoBlock_block accept_block_tap_more">\n                                                <div class="Attracted_headerInfoBlock_block_i">\n                                                    <i class="fad fa-check"></i>\n                                                </div>\n                                                <span>Да</span>\n                                            </div>\n                                            <div class="Attracted_headerInfoBlock_block remove_block_tap">\n                                                <div class="Attracted_headerInfoBlock_block_i">\n                                                    <i class="fad fa-times"></i>\n                                                </div>\n                                                <span>Нет</span>\n                                            </div>\n                                        </div>\n                                    '),_.find(".accept_block_tap_more").click(function(){SoloAlert.confirm({title:"Подтверждение",body:"Вы уверены, что хотите подтвердить оплату?",theme:"dark",html:"",useTransparency:!0}).then(async n=>{n&&(await a({methodName:"version2_activ_projects_accept_notFullPayNull_inv",data:_GET("id")}),SoloAlert.alert({title:"Успешно",body:"",icon:"success"}).then(()=>{location.reload()}))})}),$(".settingBlock").remove(),$(".headerPaysBlock").remove());else{_=$('\n                                    <div class="appendPayBlock">\n                                        <div class="version2_default_bkg row_default"></div>\n                                        <div class="appendPayBlock_line">\n                                            <span>Сумма выплаты</span>\n                                            <input id="money_of_Push" type="text">\n                                        </div>\n                                        <div class="appendPayBlock_line">\n                                            <span>Действие</span> \n                                            <button>Принять</button>\n                                        </div>\n                                    </div>\n                                ');_.find("button").eq(0).css("margin-left",0),_.find("button").eq(1).css("margin-left",0),_.find("#money_of_Push").on("keyup input",function(){var n=$(this).val();n=n.replace(/[^\d;]/g,""),n=n.replace(/\s/g,"");var a=String(n).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ");$(this).val(a)}),_.find("button").eq(0).click(async function(){SoloAlert.confirm({title:"Подтверждение",body:"Вы уверены, что хотите подтвердить выплату инвестору?",html:"",useTransparency:!0}).then(async n=>{n&&(await a({methodName:"business_addpayment_for_inv",data:{id:_GET("id"),pay:$("#money_of_Push").val().trim().toString().replace(/\s/g,"")}}),SoloAlert.alert({title:"Успешно",body:"",icon:"success"}).then(()=>{location.reload()}))})})}$(".index_page_body_data").append(_)}}else if("not_correct"!=n.InvDoc.status&&"remove"!=n.InvDoc.status){var p="Нажимая кнопку подтвердить, вы подтверждаете, что сумма и дата платежа верна";void 0!==n.project.notFullpay&&(p=`Нажимая кнопку подтвердить, вы подтверждаете, что сумма и дата платежа верна, так же сумма должна быть равной ${n.project.notFullpay}% от общей суммы`),$(".index_page_body_data").append(`\n                        <div class="Attracted_headerInfoBlock_info_data_alert">\n                            <span>${p}</span>\n                        </div>\n                        <div class="Attracted_headerInfoBlock">\n                            <div class="Attracted_headerInfoBlock_block accept_block_tap">\n                                <div class="Attracted_headerInfoBlock_block_i">\n                                    <i class="fad fa-check"></i>\n                                </div>\n                                <div class="Attracted_headerInfoBlock_block_text">\n                                    <p>Подтвердить</p>\n                                </div>\n                            </div>\n                            <div class="Attracted_headerInfoBlock_block remove_block_tap">\n                                <div class="Attracted_headerInfoBlock_block_i">\n                                    <i class="fad fa-times"></i>\n                                </div>\n                                <div class="Attracted_headerInfoBlock_block_text Attracted_headerInfoBlock_block_text_moneys">\n                                    <p>Отказать</p>\n                                </div>\n                            </div>\n                        </div>\n                    `)}}async invester_render(n){var a=$(".info_active_block");if(a.find(".info_active_block_right").append(`\n                <div class="info_active_block_photo">\n                        \n                </div>\n                <span>${n.project.data.name}</span>\n                <p>business</p>\n            `),void 0!==n.InvDoc.applicationRequest&&(n.InvDoc.applicationRequest||a.find(".info_active_block_right").append('\n                        <div class="info_active_block_massage_button">\n                            <span>Перейти к диалогу</span>\n                        </div>\n                    ')),$(".index_page_body_data").append(a),"accept"==n.InvDoc.status){n.InvDoc.data.data.forEach(n=>{"bank"==n._id&&n.data,"bik"==n._id&&n.data,"nomer"==n._id&&n.data,"nomer_kor"==n._id&&n.data});var e=$('\n                    <div class="settingBlock" style="margin-top: 70px;">\n                        <div class="version2_settingBlock_header">\n                            <p>Выплаты по проекту</p>\n                        </div>\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header">\n                            <div class="settingBlock_header_line">\n                                <span>#</span>\n                                <span>Дата</span>\n                                <span>Сумма</span>\n                                <span>Статус</span>\n                            </div>\n                        </div>\n                        <div class="settingBlock_body">\n\n                        </div>\n                    </div>\n                '),t={wait:"Ожидает оплату",accept:"Оплачено"};n.InvDoc.pays.forEach((a,s)=>{var i=new Date(a.date),o=this.pad(i.getDate(),2,"0")+"."+this.pad(i.getMonth()+1,2,"0")+"."+i.getFullYear(),c="";"Бессрочно"!=n.project.data.date&&s+1==n.InvDoc.pays.length&&(c=` + ${n.InvDoc.data.pay} руб.`);var d=$(`\n                        <div class="settingBlock_body_line">\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>№</span>\n                                </div>\n                                ${s+1}\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>Дата</span>\n                                </div>\n                                ${o}\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>Сумма</span>\n                                </div>\n                                ${Number(a.pay).toString().replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")} руб ${c.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}\n                            </span>\n                            <span class="headerPaysBlock_body_line_inv" data="${a.receipt}" data-project="${n.InvDoc.projectId}">\n                                <span class="version2_invDocPage_acceptButton_info">\n                                    ${t[a.status]}\n                                </span>\n                            </span>\n                        </div>\n                    `);"accept"==a.status?d.find(".headerPaysBlock_body_line_inv").children().css("background","#965FFD"):Number(a.date)<=Number((new Date).getTime().toString())&&(d.addClass("alertForLineBlock"),d.find(".headerPaysBlock_body_line_inv span").html("Просрочено")),e.find(".settingBlock_body").append(d)}),void 0!==n.project.notFullpay&&(0==Number(n.project.notFullpay)?void 0===n.InvDoc.applicationRequest?(e=$('\n                                <div class="Attracted_headerInfoBlock_info_data_alert">\n                                    <span>Проект ожидает полного сбора</span>\n                                </div>\n                            '),$(".headerPaysBlock").remove()):void 0===n.InvDoc.data.pts_2?(e=$('\n                                    <div class="Attracted_headerInfoBlock_info_data_alert">\n                                        <input type="file" id="Attracted_headerInfoBlock_info_data_alert_buttom_cheack_input">\n                                        <div class="Attracted_headerInfoBlock_info_data_alert_buttom_cheack">\n                                            <span>Оплатить инвестицию на сайте бизнес - проекта</span>\n                                        </div>\n                                    </div>\n                                '),e.find(".Attracted_headerInfoBlock_info_data_alert_buttom_cheack").click(function(){void 0!==n.project.businessSite?window.open(`https://${n.project.businessSite}?page=put_file&action=investingNotFull&InvId=${n.InvDoc._id}`):window.open(`https://investir.one/?page=put_file&action=investingNotFull&InvId=${n.InvDoc._id}`)}),$(".headerPaysBlock").remove()):n.InvDoc.applicationRequest&&(e=$('\n                                        <div class="Attracted_headerInfoBlock_info_data_alert">\n                                            <span>Ожидает подтверждения бизнесом</span>\n                                        </div>\n                                    '),$(".headerPaysBlock").remove()):void 0===n.project.closeMoney?(e=$('\n                                <div class="Attracted_headerInfoBlock_info_data_alert">\n                                    <span>Проект ожидает полного сбора</span>\n                                </div>\n                            '),$(".headerPaysBlock").remove()):0!=Number(n.project.notFullpay)?void 0===n.InvDoc.data.pts_2?(e=$('\n                                        <div class="Attracted_headerInfoBlock_info_data_alert">\n                                            <input type="file" id="Attracted_headerInfoBlock_info_data_alert_buttom_cheack_input">\n                                            <div class="Attracted_headerInfoBlock_info_data_alert_buttom_cheack">\n                                                <span>Оплатить инвестицию на сайте бизнес - проекта</span>\n                                            </div>\n                                        </div>\n                                    '),e.find(".Attracted_headerInfoBlock_info_data_alert_buttom_cheack").click(function(){void 0!==n.project.businessSite?window.open(`https://${n.project.businessSite}?page=put_file&action=investingNotFull&InvId=${n.InvDoc._id}`):window.open(`https://investir.one/?page=put_file&action=investingNotFull&InvId=${n.InvDoc._id}`)}),$(".headerPaysBlock").remove()):void 0===n.InvDoc.confirmationData&&(e=$('\n                                            <div class="Attracted_headerInfoBlock_info_data_alert">\n                                                <span>Ожидает подтверждения бизнесом</span>\n                                            </div>\n                                        '),$(".headerPaysBlock").remove()):void 0===n.InvDoc.data.pts?(e=$('\n                                        <div class="Attracted_headerInfoBlock_info_data_alert">\n                                            <input type="file" id="Attracted_headerInfoBlock_info_data_alert_buttom_cheack_input">\n                                            <div class="Attracted_headerInfoBlock_info_data_alert_buttom_cheack">\n                                                <span>Оплатить инвестицию на сайте бизнес - проекта</span>\n                                            </div>\n                                        </div>\n                                    '),e.find(".Attracted_headerInfoBlock_info_data_alert_buttom_cheack").click(function(){location.href=`https://investir.one/?page=put_file&action=investingNotFullNull&InvId=${n.InvDoc._id}`}),$(".headerPaysBlock").remove()):void 0===n.InvDoc.confirmationData&&(e=$('\n                                            <div class="Attracted_headerInfoBlock_info_data_alert">\n                                                <span>Ожидает подтверждения бизнесом</span>\n                                            </div>\n                                        '),$(".headerPaysBlock").remove())),$(".index_page_body_data").append(e)}}async renderType(n){var e=_GET("id");_GET("hash")&&(e=_GET("idInv"));try{var t=await a({methodName:"invester_status_project",data:e}),s=await a({methodName:"getProjectById",data:t.InvDoc.projectId}),i="Ожидание",o=this;if(t.InvDoc.date){var c=new Date(Number(t.InvDoc.date)),d=`${this.pad(c.getDate(),2,"0")}.${this.pad(c.getMonth()+1,2,"0")}.${c.getFullYear()}`;i=d}var l={wait:"Ожидает подтверждения",accept:"Подтверждено",not_correct:'<span style="color: red">Отказано</span>',remove:'<span style="color: red">Закрыто</span>'};void 0!==s.notFullpay&&0==Number(s.notFullpay)&&(void 0===t.InvDoc.applicationRequest?l.accept="Заявка подана":t.InvDoc.applicationRequest&&(void 0===t.InvDoc.data.pts_2?l.accept="Ожидает оплаты":l.accept="Ожидает подтверждения бизнеса"));var _=$(`\n                    <div class="info_active_block">\n                        <div class="info_active_block_right">\n                            <div class="version2_default_bkg row_default"></div>\n                        </div>\n                        <div class="info_active_block_left">\n                            <div class="version2_default_bkg row_default"></div>\n                            <p class="info_active_block_left_header">Информация по платежу</p>\n                            <div class="info_active_block_left_info">\n                                <div class="info_active_block_left_info_line">\n                                    <span>Название:</span>\n                                    <a>${s.data.name}</a>\n                                </div>\n                                <div class="info_active_block_left_info_line">\n                                    <span>Номер проекта:</span>\n                                    <a>${t.InvDoc.projectId}</a>\n                                </div>\n                                <div class="info_active_block_left_info_line">\n                                    <span>Номер договора:</span>\n                                    <a>${t.InvDoc.projectId}/${t.initNumber}</a>\n                                </div>\n                            </div>\n                            <div class="info_active_block_left_info">\n                                <div class="info_active_block_left_info_line">\n                                    <span>Статус:</span>\n                                    <a>${l[t.InvDoc.status]}</a>\n                                </div>\n                                <div class="info_active_block_left_info_line">\n                                    <span>Сумма инвестиции:</span>\n                                    <a>${t.InvDoc.data.pay.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")} руб</a>\n                                </div>\n                                <div class="info_active_block_left_info_line">\n                                    <span>Дата:</span>\n                                    <a>${i}</a>\n                                </div>\n                            </div>\n                            <div class="info_active_block_left_buttons">\n                                <span class="show_document">Посмотреть договор на сайте бизнес - проекта</span>\n                                <span class="show_block">Скачать чек об оплате</span>\n                            </div>\n                        </div>\n                    </div>\n                `),r=!1;if(void 0!==t.project.notFullpay)if(0==Number(t.project.notFullpay))void 0===t.InvDoc.data.pts_2?_.find(".show_block").remove():(_.find(".show_block").click(function(){window.screen.width<1300?saveUrlAsFile(`./projects/${t.InvDoc.projectId}/${t.InvDoc._id}_investment_2.${t.InvDoc.data.pts_2}`,`${t.InvDoc._id}_investment_2.${t.InvDoc.data.pts_2}`):window.open(`./projects/${t.InvDoc.projectId}/${t.InvDoc._id}_investment_2.${t.InvDoc.data.pts_2}`,"_blank")}),r=!0);else{var p=[function(){var n=$('\n                                    <div class="buttonsTypeBlock_row_not_full_payData">\n                                        <i class="fad fa-badge-check"></i>\n                                        <span>Чек номер 1</span>\n                                        <button type="button">Посмотреть</button>\n                                    </div>\n                                ');return n.find("button").click(function(){window.open(`./projects/${t.InvDoc.projectId}/${t.InvDoc._id}_investment.${t.InvDoc.data.pts}`,"_blank")}),n},function(){var n='<i class="fad fa-badge-check"></i>',a='<button type="button">Посмотреть</button>';void 0===t.InvDoc.data.pts_2&&(n='<i class="fad fa-window-close"></i>',a="")
;var e=$(`\n                                    <div class="buttonsTypeBlock_row_not_full_payData">\n                                        ${n}\n                                        <span>Чек номер 2</span>\n                                        ${a}\n                                    </div>\n                                `);return void 0!==t.InvDoc.data.pts_2&&e.find("button").click(function(){window.open(`./projects/${t.InvDoc.projectId}/${t.InvDoc._id}_investment.${t.InvDoc.data.pts}`,"_blank")}),e}],v=$('\n                            <div class="info_active_block_left_buttons_notFullpay_line_row">\n                                <div class="info_active_block_left_buttons_notFullpay_line" data="first">\n    \n                                </div>\n                                <div class="info_active_block_left_buttons_notFullpay_line" data="second">\n                                    \n                                </div>\n                            </div>\n                        ');v.find('[data="first"]').append(p[0]()),v.find('[data="second"]').append(p[1]()),_.find(".show_block").remove(),_.find(".info_active_block_left_buttons").append(v)}$(".index_page_body_data").append(_),"business"==n.User.type?await this.business_render(t):await this.invester_render(t),r||$(".show_block").click(function(){window.screen.width<1300?saveUrlAsFile(`./projects/${t.InvDoc.projectId}/${t.InvDoc._id}_investment.${t.InvDoc.data.pts}`,`${t.InvDoc._id}_investment.${t.InvDoc.data.pts}`):window.open(`./projects/${t.InvDoc.projectId}/${t.InvDoc._id}_investment.${t.InvDoc.data.pts}`,"_blank")}),$(".info_active_block_massage_button").click(function(){window.open(`./?page=chats&id=${t.InvDoc._id}`,"_blank")}),$(".show_document").click(async function(){if(window.screen.width<1300){var n=$(`\n                            <div class="version2_preloaderDocumetBLock">\n                                <div class="version2_preloaderDocumetBLock_row">\n                                    <div class="version2_preloaderDocumetBLock_header">\n                                        <span><</span>\n                                    </div>\n                                    <div class="version2_preloaderDocumetBLock_img">\n                                        <img src="/html/assets/images/2.0.0/documents/image-001.png" alt="">\n                                    </div>\n                                    <div class="version2_preloaderDocumetBLock_img">\n                                        <img src="/html/assets/images/2.0.0/documents/image-002.png" alt="">\n                                    </div>\n                                    <div class="version2_preloaderDocumetBLock_img">\n                                        <img src="/html/assets/images/2.0.0/documents/image-003.png" alt="">\n                                    </div>\n                                    <div class="version2_invester_data_mobile_documents_document">\n                                        <h1>Приложение номер 2 - Тестирование</h1>\n                                        <p>Фио инвестора <data type="fio">${findOfArrayOn_id(t.InvDoc.data.data,"fio")}</data></p>\n                                        <p>Дата <data type="date">${new Date}</data></p>\n                                        <p>Сумма инвестиции <data type="summ">${t.InvDoc.data.pay}</data></p>\n                                        <p>Банк <data type="bank">${t.project.data.bank}</data></p>\n                                        <p>Инн <data type="inn"></data>${findOfArrayOn_id(t.InvDoc.data.data,"inn")}</p>\n                                        <p>Огрн <data type="ogrn">${findOfArrayOn_id(t.InvDoc.data.data,"ogrnip")}</data></p>\n                                    </div>\n                                    <div class="version2_preloaderDocumetBLock_header">\n                                        <span><</span>\n                                    </div>\n                                </div>\n                            </div>\n                        `);n.find(".version2_preloaderDocumetBLock_header").click(function(){$(".version2_preloaderDocumetBLock").fadeOut(function(){$(this).remove()})}),$("body").append(n),$(".version2_preloaderDocumetBLock").fadeIn()}else void 0!==t.project.businessSite?window.open(`https://${t.project.businessSite}/projects/${t.InvDoc.projectId}/${t.InvDoc.urlToLastDocument}`,"_blank"):window.open(`https://investir.one/projects/${t.InvDoc.projectId}/${t.InvDoc.urlToLastDocument}`,"_blank")}),$(".accept_block_tap").click(async function(){await a({methodName:"acceptInvestor",data:_GET("id")}),alert("Оплата подтвержденна!"),location.reload()}),$(".remove_block_tap").click(async function(){o.renderCloseBlock(t)})}catch(n){alert(n.toString())}}async renderCloseBlock(n){var e=$('\n                <div class="renderCloseBlockBusiness">\n                    <div class="renderCloseBlockBusiness_row">\n                        <div class="renderCloseBlockBusiness_block">\n                            <div class="version2_default_bkg row_default"></div>\n                            <h1>Выберите причину отказа <div class="renderCloseBlockBusiness_block_button_close">+</div></h1>\n                            <div class="renderCloseBlockBusiness_block_text">\n                                <div class="renderCloseBlockBusiness_block_text_line" data="spam">\n                                    <div class="renderCloseBlockBusiness_block_text_line_circule">\n                                        <div class="renderCloseBlockBusiness_block_text_line_circule_block">\n                                            <div class="renderCloseBlockBusiness_block_text_line_circule_block_row"></div>\n                                        </div>\n                                        <p>Спам</p>\n                                    </div>\n                                </div>\n                                <div class="renderCloseBlockBusiness_block_text_line" data="not_correct">\n                                    <div class="renderCloseBlockBusiness_block_text_line_circule">\n                                        <div class="renderCloseBlockBusiness_block_text_line_circule_block">\n                                            <div class="renderCloseBlockBusiness_block_text_line_circule_block_row"></div>\n                                        </div>\n                                        <p>Данные в договоре не верны</p>\n                                    </div>\n                                    <div class="renderCloseBlockBusiness_block_text_line_drop_menu">\n                                        <div class="renderCloseBlockBusiness_block_text_line_drop_menu_line">\n                                            <input type="checkbox" name="" id="notCorrect_date">\n                                            <span>Не верна дата</span>\n                                        </div>\n                                        <div class="renderCloseBlockBusiness_block_text_line_drop_menu_line">\n                                            <input type="checkbox" name="" id="notCorrect_pay">\n                                            <span>Не верна cумма</span>\n                                        </div>\n                                        <div class="renderCloseBlockBusiness_block_text_line_drop_menu_line">\n                                            <input type="checkbox" name="" id="notCorrect_photo">\n                                            <span>Не верен чек</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="renderCloseBlockBusiness_block_text_line" data="money">\n                                    <div class="renderCloseBlockBusiness_block_text_line_circule">\n                                        <div class="renderCloseBlockBusiness_block_text_line_circule_block">\n                                            <div class="renderCloseBlockBusiness_block_text_line_circule_block_row"></div>\n                                        </div>\n                                        <p>В течении 3х банковских дней деньги не посутпили</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="renderCloseBlockBusiness_block_input">\n                                <input type="text" placeholder="Коментарий" id="notCorrect_value">\n                                <div class="renderCloseBlockBusiness_block_input_button">\n                                    <span>Отказать</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div> \n            ');e.find(".renderCloseBlockBusiness_block_button_close").click(function(){$(".renderCloseBlockBusiness").fadeOut()}),e.find(".renderCloseBlockBusiness_block_text_line").click(function(){$(".renderCloseBlockBusiness_block_text_line").removeClass("selected"),$(this).addClass("selected")}),e.find(".renderCloseBlockBusiness_block_input_button").click(function(){if($(".renderCloseBlockBusiness_block_text_line").hasClass("selected")){if("not_correct"==$(".renderCloseBlockBusiness_block_text_line.selected").attr("data")){var e=!0;if(($("#notCorrect_date").is(":checked")||$("#notCorrect_pay").is(":checked")||$("#notCorrect_photo").is(":checked"))&&(e=!1),e)return void note({content:"Вы должны выбрать хотябы один из вариантов",type:"info",time:5})}if($("#notCorrect_value").val().length<=0)return void note({content:"Вы должны ввести коментарий",type:"info",time:5});a({methodName:"removePayInvestor",data:{InvId:n.InvDoc,data:{dataType:$(".renderCloseBlockBusiness_block_text_line.selected").attr("data"),comment:$("#notCorrect_value").val(),notCorrect_date:$("#notCorrect_date").is(":checked"),notCorrect_pay:$("#notCorrect_pay").is(":checked"),notCorrect_photo:$("#notCorrect_photo").is(":checked")}}}),note({content:"Успешно!",type:"info",time:2,callback:function(){location.href="/?page=acceptPays"}})}else note({content:"Вы должны выбрать одну из причин отказа",type:"info",time:5})}),$("body").append(e)}async render(e){var t=await a({methodName:"ALL_DATA",data:n.allData.User._id});if(await a({methodName:"version2_activ_projects_pageRender",data:n.allData.User._id}),"business"==e.User.type){t=await a({methodName:"Business_status_projects",data:e});console.log(t);var s=$('\n                    <div class="settingBlock">\n                        <div class="settingBlock_header">\n                            <p>История оплат</p>\n                            <div class="settingBlock_header_line">\n                                <span>#</span>\n                                <span>Название проекта</span>\n                                <span>Номер проекта</span>\n                                <span>Номер Инвестора</span>\n                                <span>Статус</span>\n                            </div>\n                        </div>\n                        <div class="settingBlock_body">\n\n                        </div>\n                    </div>\n                '),i=0;for(var o of t){var c=await a({methodName:"getProjectById",data:o.projectId}),d={wait:'\n                            <span class="settingBlock_wait settingBlock_block">Ожидает подтверждения</span>\n                        ',accept:'\n                            <span class="settingBlock_accept_color settingBlock_block">Оплата подтверждена</span>\n                        '},l=`\n                        <div class="settingBlock_body_line" data="${o.invester}" data-more="${o._id}">\n                            <span>${i+1}</span>\n                            <span>${c.data.name}</span>\n                            <span>${o.projectId}</span>\n                            <span>${o.invester}</span>\n                            <span>${d[o.status]}</span>\n                        </div>\n                    `;s.find(".settingBlock_body").append(l),i++}$(".index_page_body_data").append(s),$(".settingBlock_body_line").click(function(){location.href=window.location.href+`&id=${$(this).attr("data-more")}`})}else{s=$('\n                    <div class="settingBlock">\n                        <div class="version2_settingBlock_header">\n                            <p>Активные проекты</p>\n                        </div>\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header">\n                            <div class="settingBlock_header_line">\n                                <span>№</span>\n                                <span>№ Проекта</span>\n                                <span>Название</span>\n                                <span>Договор</span>\n                                <span>Сумма входа</span>\n                                <span>Сумма платежа</span>\n                            </div>\n                        </div>\n                        <div class="settingBlock_body">\n\n                        </div>\n                    </div>\n                ');var _=!1;if(void 0!==window.allData.User.alerts_main)for(var r of window.allData.User.alerts_main)"accept_business_investring"==r.type&&(_=!0);_&&s.find(".version2_settingBlock_header").append('\n                        <div class="version2_settingBlock_header_allertMini">\n                            \n                        </div>\n                    ');i=0;var p=0,v=0,k=0,u=0,f=!0,b=t.invester_data.investedWait;for(var o of t.invester_data.activeInvs){var h=new Date(Number(o.Inv.date)),m=this.pad(h.getDate(),2,"0")+"."+this.pad(h.getMonth()+1,2,"0")+"."+h.getFullYear(),g=0;if("Бессрочно"!=o.project.data.date){for(var y of o.Inv.pays)if("wait"==y.status){g=y.pay.toString().ReplaceNumber()+" руб";break}}else{if(void 0===o.Inv.applicationRequest){k+=1,v+=Number(o.Inv.data.pay.toString().RedactingNumber());continue}if(o.Inv.applicationRequest){void 0===o.Inv.data.pts_2?(k+=1,v+=Number(o.Inv.data.pay.toString().RedactingNumber())):b+=Number(o.Inv.data.pay.toString().RedactingNumber());continue}g="% от прибыли"}l=$(`\n                        <div class="settingBlock_body_line" data="${o.Inv.invester}" data-more="${o.Inv._id}">\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>№</span>\n                                </div>\n                                ${i+1}\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>№ Проекта</span>\n                                </div>\n                                ${o.project._id}\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>Название</span>\n                                </div>\n                                ${o.project.data.name}\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>Договор</span>\n                                </div>\n                                ${o.project._id}/${o.number} от ${m}\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>Сумма входа</span>\n                                </div>\n                                ${o.Inv.data.pay} руб\n                            </span>\n                            <span>\n                                <div class="version2_settingBlock_mobile_line">\n                                    <span>Сумма платежа</span>\n                                </div>\n                                ${g}\n                            </span>\n                        </div>\n                    `);l.click(function(){location.href=`/?page=activ_projects&id=${$(this).attr("data-more")}`}),s.find(".settingBlock_body").append(l),u+=1,p+=Number(o.Inv.data.pay.toString().RedactingNumber()),f=!1,i++}if(f){var B=$('\n                        <div class="version2_errorPushBlockDefault">\n                            <span>У вас нет Активных проектов</span>\n                        </div>\n                    ');s.find(".settingBlock_body").append(B)}var I=$(`\n                    <div class="settingBlock version2_settingBlock_notMorePAndM" style="margin-bottom: 20px; margin-top: 0;">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header version2_info_block_moreDataStatus">\n                            <div class="invester_status_projects_status_first">\n                                <div class="invester_status_projects_status_first_line">\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Проинвестировано</span>\n                                        <a>${p.toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Получено</span>\n                                        <a>${t.invester_data.paid.toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                </div>\n                                <div class="invester_status_projects_status_first_line">\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Ожидают подтверждения</span>\n                                        <a>${b.toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Ближайшие поступления на</span>\n                                        <a>${t.invester_data.receipts.toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="settingBlock version2_settingBlock_notMorePAndM" style="margin-bottom: 20px">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header version2_info_block_moreDataStatus">\n                            <div class="invester_status_projects_status_first">\n                                <div class="invester_status_projects_status_first_line">\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Кол-во заявок</span>\n                                        <a>${k}</a>\n                                    </div>\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Сумма</span>\n                                        <a>${v.toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="settingBlock version2_settingBlock_notMorePAndM" style="margin-bottom: 20px">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header version2_info_block_moreDataStatus">\n                            <div class="invester_status_projects_status_first">\n                                <div class="invester_status_projects_status_first_line">\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Привлечено инвесторов</span>\n                                        <a>${t.attracted.investers.length}</a>\n                                    </div>\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Бонус</span>\n                                        <a>0 ₽</a>\n                                    </div>\n                                </div>\n                                <div class="invester_status_projects_status_first_line">\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Привлечено бизнес проектов</span>\n                                        <a>${t.attracted.business.length}</a>\n                                    </div>\n                                    <div class="version2_invester_status_projects_status_first_line_more">\n                                        <span>Бонус</span>\n                                        <a>0 ₽</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="settingBlock version2_settingBlock_notMorePAndM version2_settingBlock_notMorePAndM_more" style="margin-bottom: 70px">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header version2_info_block_moreDataStatus_bigText">\n                            <div class="invester_status_projects_status_first">\n                                <div class="invester_status_projects_status_first_line">\n                                    <span>Проивестировано в проекты</span>\n                                    <a>${u}</a>\n                                </div>\n                            </div>\n                        </div> \n                    </div>\n                `);$(".index_page_body_data").append(I),$(".index_page_body_data").append(s)}}}class t{constructor(){}async render(n){await a({methodName:"invester_status_projects",data:n});var e="invester_status_project_yellow",t=`\n                <div class="invester_status_project ${e}">\n                    <p>Вставте документ</p>\n                    <input type="file" placeholder="Документ">\n                </div>\n            `;$(".content").append(t)}}class s{constructor(){}async render(n){var e=await a({methodName:"invester_status_projects",data:n});if(e.length>0)e.forEach(function(n){var a="",e="";n.document?e="Деньги не переведенны":(a="invester_status_project_yellow",e="Не подписан документ");var t=`\n                        <div class="invester_status_project ${a}">\n                            <p>Проект номер: ${n.projectId}</p>\n                            <p>${e}</p>\n                        </div>\n                    `;$(".content").append(t)});else{var t="invester_status_project_red",s=`\n                    <div class="invester_status_project ${t}">\n                        <p>Вы не подавали заявку на инвестирование</p>\n                    </div>\n                `;$(".content").append(s)}}}class i{constructor(){}rednderCheackInvesting(n){$(".content").empty(e);var a="invester_status_project_red",e=`\n                <div class="invester_status_project ${a} cheackInvestingUser">\n                    <p>Оплаченно</p>\n                </div>\n            `;$(".content").append(e)}async render(){var n=_GET("id"),e=await a({methodName:"getInvestorsProject",data:n}),t=[];e.forEach(n=>{n.receipt&&t.push(n)});var s=$('\n                <div class="settingBlock">\n                    <div class="settingBlock_header">\n                        <p>Не выплачено</p>\n                        <div class="settingBlock_header_line">\n                            <span>#</span>\n                            <span>ID</span>\n                            <span>Инвестор ID</span>\n                            <span>Кнопка</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div>\n                </div>\n            ');$(".index_page_body_data").append(s)}}class o{constructor(){}async render(){$(".index_page_body_data").append($('\n                <div class="Attracted_headerInfoBlock_info_data_alert">\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="Attracted_headerInfoBlock_info_data_alert_row">\n                        <span>Поступившие инвестиции необходимо подтвердить в течении 3х банковских дней</span>\n                    </div>\n                </div>\n            ').css("font-size","20px"));var e=n.allData._id,t=await a({methodName:"notAcceptInvesting",data:e}),s=await a({methodName:"version2_acceptPays_notFullPay_business",data:e}),i=$('\n                <div class="settingBlock">\n                    <div class="version2_settingBlock_header">\n                        <p>Доступные проекты</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">\n                        <div class="settingBlock_header_line">\n                            <span>#</span>\n                            <span>Номер проекта</span>\n                            <span>Название проекта</span>\n                            <span>Сумма инвестиции</span>\n                            <span>Инвестор ID</span>\n                            <span>Оставшееся время</span>\n                            <span>Кнопка</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div>\n                </div>\n            '),o=!0;if(s.forEach((n,a)=>{var e=getTimeRemaining(n.inv.date_append.toString()),t="";t=e.hours>=24?`${parseInt(Number(e.hours/24))} дня и ${Number(e.hours%24)} ч`:e.hours<24&&e.hours>=0?`${e.hours} ч`:"Просрочено";var s=$(`\n                    <div class="settingBlock_body_line" data_more="${n.inv._id}">\n                        <span>${a+1}</span>\n                        <span>${n.inv.projectId}</span>\n                        <span>${n.project.data.name}</span>\n                        <span>${n.inv.data.pay.toString().ReplaceNumber()} ₽</span>\n                        <span>${n.inv.invester}</span>\n                        <span>${t}</span>\n                        <span>\n                            <span class="settingBlock_wait settingBlock_block settingBlock_accept" data="${n.inv.invester}">Открыть</span>\n                        </span>\n                    </div>\n                `);o=!1,i.find(".settingBlock_body").append(s)}),o){var c=$('\n                    <div class="version2_errorPushBlockDefault">\n                        <span>У вас нет поступлений</span>\n                    </div>\n                ');i.find(".settingBlock_body").append(c)}t.forEach(function(n,a){var e=getTimeRemaining(n.Inv.date_append.toString()),t="";t=e.hours>=24?`${parseInt(Number(e.hours/24))} дня и ${Number(e.hours%24)} ч`:e.hours<24&&e.hours>=0?`${e.hours} ч`:"Просрочено";var s=$(`\n                    <div class="settingBlock_body_line" data="${n.Inv.invester}"  data_more="${n.Inv._id}">\n                        <span>${a+1}</span>\n                        <span>${n.Inv.projectId}</span>\n                        <span>${n.project.data.name}</span>\n                        <span>${n.Inv.data.pay.toString().ReplaceNumber()} руб</span>\n                        <span>${n.Inv.invester}</span>\n                        <span>${t}</span>\n                        <span>\n                            <span class="settingBlock_wait settingBlock_block settingBlock_accept" data="${n.Inv.invester}">Открыть</span>\n                        </span>\n                    </div>\n                `);i.find(".settingBlock_body").append(s)}),$(".index_page_body_data").append(i),$(".settingBlock_body_line").click(function(){location.href=`/?page=activ_projects&id=${$(this).attr("data_more")}`})}}class c{constructor(){}async render(n){var e=await a({methodName:"getAllProjectsBusiness",data:n._id});if(1==e.length)location.href=`/?page=myProjects&id=${e[0]._id}`;else{var t=$('\n                    <div class="settingBlock">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header">\n                            <div class="settingBlock_header_line">\n                                <span>#</span>\n                                <span>Номер проекта</span>\n                                <span>Название</span>\n                                <span>Смотреть проект</span>\n                            </div>\n                        </div>\n                        <div class="settingBlock_body">\n\n                        </div>\n                    </div>\n                ');t.css({marginTop:"0"}),e.forEach(function(n,a){var e=`\n                        <div class="settingBlock_body_line" data="${n._id}">\n                            <span>${a+1}</span>\n                            <span>${n._id}</span>\n                            <span>${n.data.name}</span>\n                            <span><span class="version2ButtonGradient1 settingBlock_wait settingBlock_block settingBlock_accept" data="${n._id}">Посмотреть</span></span>\n                        </div>\n                    `;t.find(".settingBlock_body").append(e)}),$(".index_page_body_data").append(t),$(".settingBlock_body_line").click(function(){location.href=`/?page=myProjects&id=${$(this).attr("data")}`})}}async renderMenuByBlock(n){var a=$('\n                <div class="settingBlock">\n                    <div class="version2_settingBlock_header">\n                        <p>Инвестора</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">\n                        <div class="settingBlock_header_line">\n                            <span>№</span> \n                            <span>Номер договора</span>\n                            <span>Инвестор</span>\n                            <span>Дата договора</span>\n                            <span>Сумма</span>\n                            <span>Договор</span>\n                            <span>Реквизиты</span>\n                            <span>Сообщение</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div>\n                </div>\n            ');n.moreGetData.invsPush.forEach(function(n,e){var t=null,s=null,i=null,o=null,c=null;n.inv.data.data.forEach(n=>{"fio"==n._id&&(t=n.data),"bank"==n._id&&(s=n.data),"bik"==n._id&&(i=n.data),"nomer"==n._id&&(o=n.data),"nomer_kor"==n._id&&(c=n.data)})
;var d=$(`\n                    <div class="settingBlock_body_line" data-id="${n.inv.projectId}" data="${n.inv.invester}" data-project="${n.inv._id}" data-document="${n.inv.urlToLastDocument}">\n                        <span>${e+1}</span>\n                        <span>${n.inv.projectId}/${e+1}</span>\n                        <span>${t}</span>\n                        <span>${DateFormatted(n.inv.date)}</span>\n                        <span>${n.inv.data.pay} ₽</span>\n                        <span><i class="fal fa-cloud-download"></i></span>\n                        <span>\n                            <div class="settingBlock_body_line_drop_menu">\n                                <p>Банк получателя: <span>${s}</span></p>\n                                <p>БИК: <span>${i}</span></p>\n                                <p>Номер расчетного счета: <span>${o}</span></p>\n                                <p>Номер кор счета: <span>${c}</span></p>\n                                <p>Имя получателя: <span>${t}</span></p>\n                            </div>\n                            <i class="fal fa-cloud-download"></i>\n                        </span>\n                        <span><i class="fal fa-comments-alt"></i></span>\n                    </div>\n                `);d.children("span").eq(0).click(function(){location.href=`./?page=activ_projects&id=${$(this).parent().attr("data-project")}`}),d.children("span").eq(1).click(function(){location.href=`./?page=activ_projects&id=${$(this).parent().attr("data-project")}`}),d.children("span").eq(2).click(function(){location.href=`./?page=activ_projects&id=${$(this).parent().attr("data-project")}`}),d.children("span").eq(3).click(function(){location.href=`./?page=activ_projects&id=${$(this).parent().attr("data-project")}`}),d.children("span").eq(4).click(function(){location.href=`./?page=activ_projects&id=${$(this).parent().attr("data-project")}`}),d.children("span").eq(5).click(function(){window.open(`./projects/${$(this).parent().attr("data-id")}/${$(this).parent().attr("data-document")}`,"_blank")}),d.children("span").eq(6).css("position","relative"),d.children("span").eq(6).click(function(){$(".settingBlock_body_line_drop_menu").fadeOut(),"block"==$(this).find(".settingBlock_body_line_drop_menu").css("display")?this.find(".settingBlock_body_line_drop_menu").fadeOut():$(this).find(".settingBlock_body_line_drop_menu").fadeIn()}),d.children("span").eq(7).click(function(){location.href=`https://investir.one/?page=chats&id=${$(this).parent().attr("data-project")}`}),a.find(".settingBlock_body").append(d)}),$(".index_page_body_data").append(a)}async renderType(){var n=await a({methodName:"getProjectNew",data:_GET("id")}),e=$(`\n                <div class="version2_myProjects_header">\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="version2_myProjects_header_row">\n                        <div class="info_block_project">\n                            <div class="info_block_project_row">\n                                <span>№ ${n.project._id}</span>\n                                <span>${n.project.data.name}</span>\n                                <span>${n.project.type}</span>\n                            </div>\n                        </div>\n                        <div class="settingBlock" style="margin-bottom: 20px; margin-top: 0;">\n                            <div class="settingBlock_header">\n                                <div class="invester_status_projects_status_first">\n                                    <div class="invester_status_projects_status_first_line">\n                                        <span>Сумма сбора</span>\n                                        <a>${n.project.data.attraction_amount.toString().ReplaceNumber()} ₽</a>\n                                        <span>Собрано</span>\n                                        <a>${n.moreGetData.paysInvesters.toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                    <div class="invester_status_projects_status_first_line">\n                                        <span>Выплачено</span>\n                                        <a>${n.moreGetData.paysAcceptInvs.toString().ReplaceNumber()} ₽</a>\n                                        <span>Долг</span>\n                                        <a>${Number(n.moreGetData.commissionForPtoject).toFixed(0).toString().ReplaceNumber()} ₽</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="version2_infoBlock_twoBlockCheack">\n                    <div class="settingBlock version2_infoBlock_twoBlockCheack_first" style="margin-bottom: 65px">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header">\n                            <div class="invester_status_projects_status_first">\n                                <div class="invester_status_projects_status_first_line">\n                                    <span>Кол-во инвесторов</span>\n                                    <a>${n.moreGetData.invsPush.length}</a>\n                                </div>\n                            </div>\n                        </div> \n                    </div>\n                    <div class="settingBlock version2_infoBlock_twoBlockCheack_second" style="margin-bottom: 65px">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="settingBlock_header settingBlock_header_rowFlex">\n                            <div class="invester_status_projects_status_first">\n                                <div class="invester_status_projects_status_first_line">\n                                    <span>Кол-во заявок</span>\n                                    <a>${n.moreGetData.notTakeHow}</a>\n                                </div>\n                                <div class="invester_status_projects_status_first_line">\n                                    <span>На сумму</span>\n                                    <a>${n.moreGetData.notTakeHowMoney.toString().ReplaceNumber()} ₽</a>\n                                </div>\n                            </div>\n                        </div> \n                    </div>\n                </div>\n            `);$(".index_page_body_data").append(e),await this.renderMenuByBlock(n)}}class d{constructor(){}async history_pages(){return new Promise((n,a)=>{var e=$.cookie("history_pages");e=e?JSON.parse(e):[],e.push(location.href),e.length>=22&&(e=e.slice(0,1)),$.cookie("history_pages",JSON.stringify(e)),n(e)})}async render(e){var t=await a({methodName:"getUserForId",data:e});if(a({methodName:"version2_userSetDefault",data:{id:e,page:_GET("page")}}),"error"!=t){var s=t.Path_im,i=t.alerts;t=t._User,console.log(t),s&&$(".index_page_body_header_user_avatar_img img").attr("src",`https://api.telegram.org/file/bot2062839693:AAE0hzj8SVXyexq29s5x7aRLC5x8O77c-pQ/${s.file_path}`),$(".index_page_body_header_user_avatar_name span").html(t.first_name),$(".index_page_body_header_user_avatar_name p").html(t.type);var o={investor:'\n                        <div class="index_page_menu_block_line" data="activ_projects">\n                            <i class="fal fa-chart-line"></i>\n                            <span>Главная</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="wait_projects">\n                            <i class="fal fa-inventory"></i>\n                            <span>Ожидают</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="applications">\n                            <i class="fal fa-browser"></i>\n                            <span>Заявки</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="Attracted_by_me">\n                            <i class="fal fa-users"></i>\n                            <span>Привлечено</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="not_correct">\n                            <i class="fal fa-times"></i>\n                            <span>Отказано</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="chats">\n                            <i class="fal fa-comments"></i>\n                            <span>Мессенджер</span>\n                            <div class="index_page_menu_block_line_alert">\n                                <i class="fad fa-bell"></i>\n                            </div>\n                        </div>\n                        <div class="index_page_menu_block_line index_page_menu_block_line_location" data="telegram">\n                            <div class="index_page_menu_block_line_telegram">\n                                <i class="fab fa-telegram-plane"></i>\n                            </div>\n                            <span>Телеграм</span>\n                        </div>\n                    ',business:'\n                        <div class="index_page_menu_block_line" data="myProjects">\n                            <i class="fas fa-calendar-star"></i>\n                            <span>Мои проекты</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="payments_new">\n                            <i class="fal fa-credit-card"></i>\n                            <span>Выплаты</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="obligations">\n                            <i class="fas fa-hands-helping"></i>\n                            <span>Обязательства</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="acceptPays">\n                        <i class="fas fa-check-square"></i> \n                            <span>Поступления</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="chats">\n                            <i class="fas fa-comments-alt"></i>\n                            <span>Мессенджер</span>\n                            <div class="index_page_menu_block_line_alert">\n                                <i class="fad fa-bell"></i>\n                            </div>\n                        </div>\n                        <div class="index_page_menu_block_line index_page_menu_block_line_location" data="telegram">\n                            <div class="index_page_menu_block_line_telegram">\n                                <i class="fab fa-telegram-plane"></i>\n                            </div>\n                            <span>Телеграм</span>\n                        </div>\n                    ',attraction:'\n                        <div class="index_page_menu_block_line" data="Attracted_by_me">\n                            <i class="fal fa-users"></i>\n                            <span>Мной привлечено</span>\n                        </div>\n                        <div class="index_page_menu_block_line" data="chats">\n                            <i class="fal fa-comments"></i>\n                            <span>Мессенджер</span>\n                            <div class="index_page_menu_block_line_alert">\n                                <i class="fad fa-bell"></i>\n                            </div>\n                        </div>\n                        <div class="index_page_menu_block_line index_page_menu_block_line_location" data="telegram">\n                            <div class="index_page_menu_block_line_telegram">\n                                <i class="fab fa-telegram-plane"></i>\n                            </div>\n                            <span>Телеграм</span>\n                        </div>\n                    '};if($(".index_page_menu_block_row").append(o[t.type]),$(`.index_page_menu_block_line[data="${n.allData.pageID}"]`).addClass("selected"),$(".index_page_body_header_info span").html($(".index_page_menu_block_line.selected").text()),$(".index_page_menu_block_line").click(function(){location.href=`/?page=${$(this).attr("data")}`}),"business"==t.type?window.screen.width>1300&&$(".index_page_menu").css({height:"330px"}):window.screen.width>1300&&$(".index_page_menu").css({height:"382px"}),t.alerts_main,void 0!==i){var c=0;void 0!==i.wait_projects&&i.wait_projects>0&&($('.index_page_menu_block_line[data="wait_projects"]').append(`\n                            <div class="index_page_menu_block_line_alertMini">\n                                <span>${i.wait_projects}</span>\n                            </div>\n                        `),c+=Number(i.wait_projects.toString().trim())),void 0!==i.not_correct&&i.not_correct>0&&($('.index_page_menu_block_line[data="not_correct"]').append(`\n                            <div class="index_page_menu_block_line_alertMini">\n                                <span>${i.not_correct}</span>\n                            </div>\n                        `),c+=Number(i.not_correct.toString().trim())),void 0!==i.chats&&i.chats>0&&($('.index_page_menu_block_line[data="chats"]').append(`\n                            <div class="index_page_menu_block_line_alertMini">\n                                <span>${i.chats}</span>\n                            </div>\n                        `),c+=Number(i.chats.toString().trim())),void 0!==i.activ_projects&&i.activ_projects>0&&($('.index_page_menu_block_line[data="activ_projects"]').append(`\n                            <div class="index_page_menu_block_line_alertMini">\n                                <span>${i.activ_projects}</span>\n                            </div>\n                        `),c+=Number(i.activ_projects.toString().trim())),c>0&&window.screen.width<1300&&$(".index_page_body_header_alertNewBlock").css({display:"flex"}).find("span").html(c)}}return $(".index_page_body_header_user_avatar_img").click(function(){_getCookie("black_styles")?(delCookie("black_styles"),location.reload()):(setCookie("black_styles","true"),location.reload())}),t}}class l{constructor(){}async render(e){if(_GET("owner")){var t='\n                    <div class="chat_block">\n                        <div class="chat_block_chat">\n                            <div class="chat_block_chat_header">\n                                <span>Чат</span>\n                            </div>\n                            <div class="chat_block_chat_body">\n                                <div class="chat_block_chat_body_row">\n\n                                    <div class="chat_block_chat_body_msgs">\n\n                                    </div>\n\n                                    <div class="chat_block_chat_body_row_input">\n                                        <input type="text">\n                                        <span>Отправить</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="chat_block_info">\n                            <div class="info_active_block_photo">\n                            \n                            </div>\n                            <span>Тех поддержка</span>\n                            <p>Администрация</p>\n                        </div>\n                    </div>\n                ';$(".index_page_body_data").append(t)}else if(_GET("id")){var s=await a({methodName:"all_msgs",data:{user:_GET("user"),to:_GET("id")}});await a({methodName:"clearAlertMsg",data:n.allData._id});console.log(s);t='\n                        <div class="chat_block">\n                            <div class="chat_block_chat">\n                                <div class="chat_block_chat_header">\n                                    <span>Чат</span>\n                                </div>\n                                <div class="chat_block_chat_body">\n                                    <div class="chat_block_chat_body_row">\n    \n                                        <div class="chat_block_chat_body_msgs">\n    \n                                        </div>\n    \n                                        <div class="chat_block_chat_body_row_input">\n                                            <input type="text">\n                                            <span>Отправить</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="chat_block_info">\n                                <div class="info_active_block_photo">\n                                \n                                </div>\n                                <span>Кирилл Максимов</span>\n                                <p>Инвестор</p>\n                            </div>\n                        </div>\n                    ';$(".index_page_body_data").append(t),s&&s.msgs.length>0&&(s.msgs.forEach(function(a){var e=`\n                                    <div class="chat_block_chat_body_msgs_line">\n                                        <div class="chat_block_chat_body_msgs_line_my">\n                                            <span>${a.text}</span>\n                                        </div>\n                                    </div>\n                                `,t=`\n                                    <div class="chat_block_chat_body_msgs_line chat_block_chat_body_msgs_line_left">\n                                        <div class="chat_block_chat_body_msgs_line_my">\n                                            <span>${a.text}</span>\n                                        </div>\n                                    </div>\n                                `;"business"==n.allData.User.type?"investor"==a.type?$(".chat_block_chat_body_msgs").append(t):$(".chat_block_chat_body_msgs").append(e):"investor"==a.type?$(".chat_block_chat_body_msgs").append(e):$(".chat_block_chat_body_msgs").append(t)}),$(".chat_block_chat_body_msgs").animate({scrollTop:$(".chat_block_chat_body_msgs").height()},"fast"));var i=await a({methodName:"getProject",data:_GET("id")}),o=await a({methodName:"getUserForId",data:_GET("user")}),c={investor:function(){$(".chat_block_info span").html(i.data.name),$(".chat_block_info p").html("business")},business:function(){$(".chat_block_info span").html(o.first_name),$(".chat_block_info p").html("investor")}};c[o._User.type](),$(".chat_block_chat_body_row_input input").focus(async function(){$(window).keyup(async function(n){if(13==n.keyCode){n.preventDefault();var e=`\n                                    <div class="chat_block_chat_body_msgs_line">\n                                        <div class="chat_block_chat_body_msgs_line_my">\n                                            <span>${$(".chat_block_chat_body_row_input input").val()}</span>\n                                        </div>\n                                    </div>\n                                `;$(".chat_block_chat_body_msgs").append(e),$(".chat_block_chat_body_msgs").animate({scrollTop:$(".chat_block_chat_body_msgs").height()},"fast"),await a({methodName:"msgUP",data:{user:_GET("user"),to:_GET("id"),type:o.type,msg:$(".chat_block_chat_body_row_input input").val()}}),$(".chat_block_chat_body_row_input input").val("")}})}),$(".chat_block_chat_body_row_input span").click(async function(){var n=`\n                            <div class="chat_block_chat_body_msgs_line">\n                                <div class="chat_block_chat_body_msgs_line_my">\n                                    <span>${$(".chat_block_chat_body_row_input input").val()}</span>\n                                </div>\n                            </div>\n                        `;$(".chat_block_chat_body_msgs").append(n),$(".chat_block_chat_body_msgs").animate({scrollTop:$(".chat_block_chat_body_msgs").height()},"fast"),await a({methodName:"msgUP",data:{user:_GET("user"),to:_GET("id"),type:o.type,msg:$(".chat_block_chat_body_row_input input").val()}}),$(".chat_block_chat_body_row_input input").val("")})}else{console.log("start");var d=await a({methodName:"selectedMsgChats",data:e._id});console.log(d);var l=$('\n                        <div class="msg_block_getting">\n    \n                        </div>\n                    ');d.forEach(n=>{var a=$(`\n                            <div class="msg_block_getting_line" data="${n.business}" data-more="${n.investor}">\n                                <div class="msg_block_getting_line_img">\n                                    <div class="msg_block_getting_line_img_block"></div>\n                                </div>\n                                <div class="msg_block_getting_line_text">\n                                    <span>VIBERY.STORE</span>\n                                    <p>${n.msgs[n.msgs.length-1].text}</p>\n                                </div>\n                            </div>\n                        `);l.append(a)}),$(".index_page_body_data").append(l),$(".msg_block_getting_line").click(function(){location.href=`https://investir.one/?user=${$(this).attr("data-more")}&page=chats&id=${$(this).attr("data")}`})}}}class _{constructor(){}async render(){$(".index_page").addClass("signature");var e=$('\n                <div class="signature_canvas">\n                    <div class="signature_canvas_row">\n                        <span class="signature_canvas_span">Подпишите документ</span>\n                        <div class="row_canvas">\n                            <canvas width="700" height="400"></canvas>\n                        </div>\n                        <div class="index_page_buttons">\n                            <span class="clean">Очистить</span>\n                            <span class="put">Посмотреть подписываемый документ<i class="fas fa-arrow-right" aria-hidden="true"></i></span>\n                            <span class="accept_signature">Отправить</span>\n                        </div>\n                    </div>\n                </div>\n            ');$(".index_page_body_data").append(e);var t=document.querySelector("canvas"),s=new SignaturePad(t);$(".clean").click(function(){s.clear()}),$(".put").click(function(){window.open(`https://investir.one/html/project/document/#${_GET("id")}#/?id=${n.allData.User._id}`,"_blank")}),$(".accept_signature").click(async function(){alert("Документ подписан!");const n=s.toDataURL();a({methodName:"setSignaturePro",data:{id:_GET("id"),user:_GET("user"),data:n}});location.href="https://t.me/investir_official_bot?start=setSignaturePro_1"})}}class r{constructor(){this.allMoneyMembers=0,this._paysInvesters=[],this._paysBusiness=[],this.allAttracted=null}async renderHeader(n){var a=Number((Number(this.allAttracted.investors.length)/10).toFixed(0)),e="до "+Number(a+10);0==this.allAttracted.investors.length&&(e="0");var t=$(`\n                <div class="Attracted_by_me_headerRefUrlsBlock">\n                    <div class="Attracted_by_me_headerRefUrlsBlock_blocks">\n                        <div class="Attracted_by_me_headerRefUrlsBlock_blocks_line">\n                            <div class="version2_default_bkg row_default"></div>\n                            <div class="Attracted_by_me_headerRefUrlsBlock_blocks_line_row">\n                                <span class="Attracted_by_me_headerRefUrlsBlock_blocks_line_row_first_span">Ваша реферальная ссылка для Инвесторов бизнес-проекта</span>\n                                <span class="Attracted_by_me_headerRefUrlsBlock_blocks_line_row_first_span_two">https://t.me/investir_official_bot?start=adder_${n.User.user}</span>\n                                <div class="Attracted_by_me_headerRefUrlsBlock_blocks_line_copy">\n                                    <i class="fas fa-copy"></i>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="Attracted_by_me_headerRefUrlsBlock_blocks_line">\n                            <div class="version2_default_bkg row_default"></div>\n                            <div class="Attracted_by_me_headerRefUrlsBlock_blocks_line_row">\n                                <span class="Attracted_by_me_headerRefUrlsBlock_blocks_line_row_first_span">Ваша реферальная ссылка для Бизнеса</span>\n                                <span class="Attracted_by_me_headerRefUrlsBlock_blocks_line_row_first_span_two">https://t.me/investir_official_bot?start=adder-b_${n.User.user}</span>\n                                <div class="Attracted_by_me_headerRefUrlsBlock_blocks_line_copy">\n                                    <i class="fas fa-copy"></i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="Attracted_headerInfoBlock">\n                    <div class="Attracted_headerInfoBlock_block">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="Attracted_headerInfoBlock_block_row">\n                            <div class="Attracted_headerInfoBlock_block_i">\n                                <img src="/html/assets/images/2.0.0/Rectangle 6.png" alt="">\n                            </div>\n                            <div class="Attracted_headerInfoBlock_block_text">\n                                <span>Мной привлечено инвесторов</span>\n                                <p>${e}</p>\n                            </div>\n                            <div class="Attracted_headerInfoBlock_block_row_infoBlockHover">\n                                <div class="Attracted_headerInfoBlock_block_row_infoBlockHover_buttons">\n                                    <i class="fal fa-info-circle"></i>\n                                </div>\n                                <div class="Attracted_headerInfoBlock_block_row_infoBlockHover_row">\n                                    <div class="Attracted_headerInfoBlock_block_row_infoBlockHover_row_row">\n                                        <div class="version2_default_bkg row_default"></div>\n                                        <span>Указывается промежуток привлеченных инвесторов для безопасности личных данных</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="Attracted_headerInfoBlock_block Attracted_headerInfoBlock_block_right">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="Attracted_headerInfoBlock_block_row">\n                            <div class="Attracted_headerInfoBlock_block_i">\n                                <img src="/html/assets/images/2.0.0/Ellipse 18.png" alt="">\n                            </div>\n                            <div class="Attracted_headerInfoBlock_block_text Attracted_headerInfoBlock_block_text_moneys" data="wait">\n                                <span>Общая сумма бонусов начисленных</span>\n                                <p>0</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="Attracted_headerInfoBlock">\n                    <div class="Attracted_headerInfoBlock_block">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="Attracted_headerInfoBlock_block_row">\n                            <div class="Attracted_headerInfoBlock_block_i">\n                                <img src="/html/assets/images/2.0.0/business.png" alt="">\n                            </div>\n                            <div class="Attracted_headerInfoBlock_block_text">\n                                <span>Мной привлечено бизнесс проектов</span>\n                                <p>${this.allAttracted.business.length}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="Attracted_headerInfoBlock_block Attracted_headerInfoBlock_block_right">\n                        <div class="version2_default_bkg row_default"></div>\n                        <div class="Attracted_headerInfoBlock_block_row">\n                            <div class="Attracted_headerInfoBlock_block_i">\n                                <img src="/html/assets/images/2.0.0/Ellipse 18.png" alt="">\n                            </div>\n                            <div class="Attracted_headerInfoBlock_block_text Attracted_headerInfoBlock_block_text_moneys" data="accept">\n                                <span>Общая сумма бонусов выплаченных</span>\n                                <p>0</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `);t.find(".Attracted_headerInfoBlock_block_row_infoBlockHover_buttons").click(function(){$(".Attracted_headerInfoBlock_block_row_infoBlockHover_row").toggleClass("show")}),t.find(".Attracted_by_me_headerRefUrlsBlock_blocks_line_copy").click(function(){var n=$("<textarea>");$("body").append(n),n.val($(this).parent().find("span").eq(1).text()).select(),document.execCommand("copy"),n.remove(),alert("Ваша ссылка скопирована в буфер обмена!")});var s=$('\n                <div class="moreGetButtons" data="get">\n                    <div class="version2_default_bkg row_default"></div>\n                    <span data="get">\n                        Запросить выплату\n                        <div class="moreGetButtons_buttonOpen">\n                            <i class="fal fa-plus"></i>\n                        </div>\n                    </span>\n                </div>\n            ');s.find('span[data="get"]').click(function(){alert("Выплата возможна, при положительном балансе на выплату")}),$(".index_page_body_data").append(t),$(".index_page_body_data").append(s)}async renderInvesters(n){}async renderBussnes(n){var a=$('\n                <div class="settingBlock">\n                    <div class="version2_settingBlock_header">\n                        <p>Привлеченные бизнес проекты</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">   \n                        <div class="settingBlock_header_line">\n                            <span>№</span>\n                            <span>Номер проекта</span>\n                            <span>Название проекта</span>\n                            <span>Сумма выплаты</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div> \n                </div>\n            ');a.css("margin-top","70px");var e=1,t=!0;for(var s of this.allAttracted.business){
var i=`\n                    <div class="settingBlock_body_line">\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>№</span>\n                            </div>\n                            ${e}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Номер проекта</span>\n                            </div>\n                            ${s._id}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Название проекта</span>\n                            </div>\n                            ${s.data.name}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Сумма выплаты</span>\n                            </div>\n                            ${(s.payersData.commission*(s.payersData.attraction_commission/100)*(s.payersData.business_commission/100)).toFixed(3)} %\n                        </span>\n                    </div>\n                `;e+=1,t=!1,a.find(".settingBlock_body").append(i)}if(t){var o=$('\n                    <div class="version2_errorPushBlockDefault">\n                        <span>У вас нет привлеченных бизнес проектов</span>\n                    </div>\n                ');a.find(".settingBlock_body").append(o)}$(".index_page_body_data").append(a)}async allProjectsRender(){var n=await a({methodName:"getAllProjectsInvesting",data:null});console.log(n);var e=$('\n                <div class="settingBlock">\n                    <div class="version2_settingBlock_header">\n                        <p>Вознаграждения по проектам</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">\n                        <div class="settingBlock_header_line">\n                            <span>№</span>\n                            <span>ID Предложения</span>\n                            <span>Имя предложения</span>\n                            <span>Сумма выплаты за инвестора</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div> \n                </div>\n            ');e.css("margin-top","70px");var t=1;for(var s of n){var i=Number(s.payersData.commission/100*s.payersData.attraction_commission),o=Number(i/100*s.payersData.investors_commission),c=$(`\n                    <div class="settingBlock_body_line" data="${s.channel_id}">\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>№</span>\n                            </div>\n                            ${t}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>ID Предложения</span>\n                            </div>\n                            ${s._id}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Имя предложения</span>\n                            </div>\n                            ${s.data.name}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Сумма выплаты за инвестора</span>\n                            </div>\n                            ${Math.floor(Number(o))} %\n                        </span>\n                    </div>\n                `);c.click(function(){window.location=`tg://resolve?domain=investir_official&post=${$(this).attr("data")}`}),t+=1,e.find(".settingBlock_body").append(c)}$(".index_page_body_data").append(e)}async renderAllPayments(){}async renderAllPaymentsRequest(){}async render(e){var t=await a({methodName:"ALL_DATA",data:n.allData.User._id}),s=await a({methodName:"Attracted_by_pays",data:e._id}),i=await a({methodName:"allAttracted",data:e._id}),o=this;console.log(s),console.log(i),this.allAttracted=i,s.forEach(n=>{"investing"==n.type?o._paysInvesters.push(n):o._paysBusiness.push(n)}),await this.renderHeader(t),await this.allProjectsRender(),await this.renderInvesters(),await this.renderBussnes(),await this.renderAllPayments(),await this.renderAllPaymentsRequest()}}class p{constructor(){}async render(){var n=$('\n                <div class="settingBlock">\n                    <div class="version2_settingBlock_header">\n                        <p>Доступные вознаграждения</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">\n                        <div class="settingBlock_header_line">\n                            <span>#</span>\n                            <span>Номер проекта</span>\n                            <span>Дата</span>\n                            <span>Статус</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div>\n                </div>\n            ');$(".index_page_body_data").append(n)}}class v{constructor(){this.global=$('\n                <div class="creating_page"></div>\n            ')}async render(){$(".index_page_menu").css({flex:"none",position:"absolute","margin-left":"-100%"}),$(".index_page_body_header_info").css({"justify-content":"center"}),$(".index_page_body_header_info span").html("ВАША ССЫЛКА НА ПРИВЛЕЧЕНИЕ БИЗНЕС ПРОЕКТОВ");var a=$(`\n                <div class="creating_page_block">\n                    <div class="creating_page_start">\n                        <span>\n                            https://t.me/investir_official_bot?start=adder-b_${n.allData.User.user}\n                        </span>\n                    </div>\n                </div>\n            `);a.css("margin","0 auto"),this.global.append(a),$(".index_page_body_data").append(this.global)}}class k{constructor(){}async render(){var e=await a({methodName:"ALL_DATA",data:n.allData.User._id}),t=await a({methodName:"version2_wait_projects_WaitNotFullInvs",data:n.allData.User._id}),s=$('\n                <div class="settingBlock">\n                    <div class="version2_settingBlock_header">\n                        <p>Ожидают действия инвестора</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">\n                        <div class="settingBlock_header_line">\n                            <span>№</span>\n                            <span>№ Проекта</span>\n                            <span>Название</span>\n                            <span>Договор</span>\n                            <span>Сумма</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div>\n                </div>\n            ');void 0!==t&&t.length>0&&s.find(".version2_settingBlock_header").append('\n                    <div class="version2_settingBlock_header_allertMini">\n                        \n                    </div>\n                ');var i=0,o=!0;for(var c of t){var d=$(`\n                    <div class="settingBlock_body_line" data-more="${c.Inv._id}">\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>№</span>\n                            </div>\n                            ${i+1}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>№ Проекта</span>\n                            </div>\n                            ${c.Project._id}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Название</span>\n                            </div>\n                            ${c.Project.data.name}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Договор</span>\n                            </div>\n                            ${c.Project._id}/${c.ActionInit} от ${DateFormatted(c.Inv.date.toString())}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Сумма</span>\n                            </div>\n                            ${c.Inv.data.pay} ₽\n                        </span>\n                    </div>\n                `);d.click(function(){location.href=`/?page=activ_projects&id=${$(this).attr("data-more")}`}),s.find(".settingBlock_body").append(d),o=!1,i++}if(o){var l=$('\n                    <div class="version2_errorPushBlockDefault">\n                        <span>У вас нет проектов в ожидании действия</span>\n                    </div>\n                ');s.find(".settingBlock_body").append(l)}$(".index_page_body_data").append(s);s=$('\n                <div class="settingBlock" style="margin-top: 70px;">\n                    <div class="version2_settingBlock_header">\n                        <p>Ожидают подтверждения бизнесом</p>\n                    </div>\n                    <div class="version2_default_bkg row_default"></div>\n                    <div class="settingBlock_header">\n                        <div class="settingBlock_header_line">\n                            <span>№</span>\n                            <span>№ Проекта</span>\n                            <span>Название</span>\n                            <span>Договор</span>\n                            <span>Сумма</span>\n                            <span>Статус</span>\n                        </div>\n                    </div>\n                    <div class="settingBlock_body">\n\n                    </div>\n                </div>\n            '),i=0;var _=!0;for(var c of e.invester_data.waitInvs){d=$(`\n                    <div class="settingBlock_body_line" data="${c.Inv.invester}" data-more="${c.Inv._id}">\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>№</span>\n                            </div>\n                            ${i+1}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>№ Проекта</span>\n                            </div>\n                            ${c.project._id}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Название</span>\n                            </div>\n                            ${c.project.data.name}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Договор</span>\n                            </div>\n                            ${c.project._id}/${c.number}\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Сумма</span>\n                            </div>\n                            ${c.Inv.data.pay} ₽\n                        </span>\n                        <span>\n                            <div class="version2_settingBlock_mobile_line">\n                                <span>Статус</span>\n                            </div>\n                            Ожидает подтверждения\n                        </span>\n                    </div>\n                `);d.click(function(){location.href=`/?page=activ_projects&id=${$(this).attr("data-more")}`}),s.find(".settingBlock_body").append(d),_=!1,i++}for(var c of e.invester_data.activeInvs)if(void 0!==c.Inv.data.pts_2&&c.Inv.applicationRequest){d=$(`\n                            <div class="settingBlock_body_line" data="${c.Inv.invester}" data-more="${c.Inv._id}">\n                                <span>\n                                    <div class="version2_settingBlock_mobile_line">\n                                        <span>№</span>\n                                    </div>\n                                    ${i+1}\n                                </span>\n                                <span>\n                                    <div class="version2_settingBlock_mobile_line">\n                                        <span>№ Проекта</span>\n                                    </div>\n                                    ${c.project._id}\n                                </span>\n                                <span>\n                                    <div class="version2_settingBlock_mobile_line">\n                                        <span>Название</span>\n                                    </div>\n                                    ${c.project.data.name}\n                                </span>\n                                <span>\n                                    <div class="version2_settingBlock_mobile_line">\n                                        <span>Договор</span>\n                                    </div>\n                                    ${c.project._id}/${c.number}\n                                </span>\n                                <span>\n                                    <div class="version2_settingBlock_mobile_line">\n                                        <span>Сумма</span>\n                                    </div>\n                                    ${c.Inv.data.pay} ₽\n                                </span>\n                                <span>\n                                    <div class="version2_settingBlock_mobile_line">\n                                        <span>Статус</span>\n                                    </div>\n                                    Ожидает подтверждения\n                                </span>\n                            </div>\n                        `);d.click(function(){location.href=`/?page=activ_projects&id=${$(this).attr("data-more")}`}),s.find(".settingBlock_body").append(d),_=!1,i++}if(_){l=$('\n                    <div class="version2_errorPushBlockDefault">\n                        <span>У вас нет проектов в ожидании</span>\n                    </div>\n                ');s.find(".settingBlock_body").append(l)}$(".index_page_body_data").append(s)}}var u={Attracted_by_me:r,activ_projects:e,put_document:t,pay_investors:i,acceptPays:o,user_block:d,chats:l,myProjects:c,signature:_,reward:p,process_status:s,ref_url:v,wait_projects:k};if(n.Components)for(var f in u)n.Components[f]=u[f];else n.Components=u})(window);